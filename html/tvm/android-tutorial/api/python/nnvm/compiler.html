

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>nnvm.compiler &mdash; tvm 0.6.dev documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/tvm_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="nnvm.frontend" href="frontend.html" />
    <link rel="prev" title="NNVM API" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/tvm-logo-small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.6.dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../vta/index.html">VTA: Deep Learning Accelerator Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../deploy/index.html">Deploy and Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contribute/index.html">Contribute to TVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq.html">Frequently Asked Questions</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../langref/index.html">Language Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Python API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../tvm.html">tvm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intrin.html">tvm.intrin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tensor.html">tvm.tensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schedule.html">tvm.schedule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../target.html">tvm.target</a></li>
<li class="toctree-l2"><a class="reference internal" href="../build.html">tvm.build</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module.html">tvm.module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error.html">tvm.error</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ndarray.html">tvm.ndarray</a></li>
<li class="toctree-l2"><a class="reference internal" href="../container.html">tvm.container</a></li>
<li class="toctree-l2"><a class="reference internal" href="../function.html">tvm.Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autotvm.html">tvm.autotvm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../graph_runtime.html">tvm.contrib.graph_runtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rpc.html">tvm.rpc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bridge.html">Framework Bridge APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contrib.html">Additional Contrib APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev.html">Developer API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topi.html">TOPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vta/index.html">VTA API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">NNVM API</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">nnvm.compiler</a></li>
<li class="toctree-l3"><a class="reference internal" href="frontend.html">nnvm.frontend</a></li>
<li class="toctree-l3"><a class="reference internal" href="symbol.html">nnvm.symbol</a></li>
<li class="toctree-l3"><a class="reference internal" href="graph.html">nnvm.graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="top.html">nnvm.top</a></li>
<li class="toctree-l3"><a class="reference internal" href="testing.html">nnvm.testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="testing.html#module-nnvm.testing.check_computation">nnvm.testing.check_computation</a></li>
<li class="toctree-l3"><a class="reference internal" href="testing.html#testing-new-operations">Testing new operations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hybrid.html">tvm.hybrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../relay/index.html">Relay API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../api_links.html">Links to API References</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/index.html">Design and Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nnvm_top.html">NNVM Core Tensor Operators</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../genindex.html">Index</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">tvm</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Python API</a> &raquo;</li>
        
          <li><a href="index.html">NNVM API</a> &raquo;</li>
        
      <li>nnvm.compiler</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/api/python/nnvm/compiler.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-nnvm.compiler">
<span id="nnvm-compiler"></span><h1>nnvm.compiler<a class="headerlink" href="#module-nnvm.compiler" title="Permalink to this headline">Â¶</a></h1>
<p>NNVM compiler toolchain.</p>
<p>User only need to use <a class="reference internal" href="#nnvm.compiler.build" title="nnvm.compiler.build"><code class="xref any py py-func docutils literal notranslate"><span class="pre">build</span></code></a> and <a class="reference internal" href="#nnvm.compiler.build_config" title="nnvm.compiler.build_config"><code class="xref any py py-func docutils literal notranslate"><span class="pre">build_config</span></code></a> to do the compilation,
and <a class="reference internal" href="#nnvm.compiler.save_param_dict" title="nnvm.compiler.save_param_dict"><code class="xref any py py-func docutils literal notranslate"><span class="pre">save_param_dict</span></code></a> to save the parameters into bytes.
The other APIs are for more advanced interaction with the compiler toolchain.</p>
<dl class="function">
<dt id="nnvm.compiler.build">
<code class="descclassname">nnvm.compiler.</code><code class="descname">build</code><span class="sig-paren">(</span><em>graph</em>, <em>target=None</em>, <em>shape=None</em>, <em>dtype='float32'</em>, <em>params=None</em>, <em>target_host=None</em>, <em>layout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.build" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build graph into runtime library.</p>
<p>The build function will optimize the graph and do the compilation.</p>
<p>When params is provided, the compiler might split the graph to
pre-compute certain values, so the final execution graph can
be different from the original one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>graph</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) â The graph to be used in lowering</li>
<li><strong>target</strong> (str or <a class="reference internal" href="../target.html#tvm.target.Target" title="tvm.target.Target"><code class="xref any py py-class docutils literal notranslate"><span class="pre">tvm.target.Target</span></code></a>, optional) â The build target</li>
<li><strong>shape</strong> (<em>dict of str to tuple</em><em>, </em><em>optional</em>) â The input shape to the graph</li>
<li><strong>dtype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>dict of str to str</em>) â The input types to the graph</li>
<li><strong>params</strong> (<em>dict of str to NDArray</em>) â Input parameters to the graph that do not change
during inference time. Used for pre-compute
folding optimization.</li>
<li><strong>target_host</strong> (str or <a class="reference internal" href="../target.html#tvm.target.Target" title="tvm.target.Target"><code class="xref any py py-class docutils literal notranslate"><span class="pre">tvm.target.Target</span></code></a> optional) â Host compilation target, if target is device.
When TVM compiles device specific program such as CUDA,
we also need host(CPU) side code to interact with the driver
setup the dimensions and parameters correctly.
target_host is used to specify the host side codegen target.
By default, llvm is used if it is enabled,
otherwise a stackvm intepreter is used.</li>
<li><strong>layout</strong> (<em>dict of str to str</em><em> or </em><em>str optional</em>) â The input layout</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>graph</strong> (<em>Graph</em>) â The final execution graph.</li>
<li><strong>libmod</strong> (<em>tvm.Module</em>) â The module that comes with the execution graph</li>
<li><strong>params</strong> (<em>dict of str to NDArray</em>) â The updated parameters of graph if params is passed.
This can be different from the params passed in.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nnvm.compiler.build_config">
<code class="descclassname">nnvm.compiler.</code><code class="descname">build_config</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.build_config" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Configure the build behavior by setting config variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>opt_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>default=2</em>) â Optimization level. See OPT_PASS_LEVEL for level of each pass.</li>
<li><strong>add_pass</strong> (<em>set of str</em>) â Optimization pass to be added regardless of optimization level.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>config</strong> â The build configuration</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../relay/build_module.html#tvm.relay.build_module.BuildConfig" title="tvm.relay.build_module.BuildConfig">BuildConfig</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nnvm.compiler.save_param_dict">
<code class="descclassname">nnvm.compiler.</code><code class="descname">save_param_dict</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.save_param_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Save parameter dictionary to binary bytes.</p>
<p>The result binary bytes can be loaded by the
GraphModule with API âload_paramsâ.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>dict of str to NDArray</em>) â The parameter dictionary.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>param_bytes</strong> â Serialized parameters.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytearray" title="(in Python v3.7)">bytearray</a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># compile and save the modules to file.</span>
<span class="n">graph</span><span class="p">,</span> <span class="n">lib</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="n">nnvm</span><span class="o">.</span><span class="n">compiler</span><span class="o">.</span><span class="n">build</span><span class="p">(</span>
   <span class="n">graph</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">data_shape</span><span class="p">},</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="n">module</span> <span class="o">=</span> <span class="n">graph_runtime</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">lib</span><span class="p">,</span> <span class="n">tvm</span><span class="o">.</span><span class="n">gpu</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="c1"># save the parameters as byte array</span>
<span class="n">param_bytes</span> <span class="o">=</span> <span class="n">nnvm</span><span class="o">.</span><span class="n">compiler</span><span class="o">.</span><span class="n">save_param_dict</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
<span class="c1"># We can serialize the param_bytes and load it back later.</span>
<span class="c1"># Pass in byte array to module to directly set parameters</span>
<span class="n">module</span><span class="p">[</span><span class="s2">&quot;load_params&quot;</span><span class="p">](</span><span class="n">param_bytes</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nnvm.compiler.load_param_dict">
<code class="descclassname">nnvm.compiler.</code><code class="descname">load_param_dict</code><span class="sig-paren">(</span><em>param_bytes</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.load_param_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Load parameter dictionary to binary bytes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>param_bytes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytearray" title="(in Python v3.7)"><em>bytearray</em></a>) â Serialized parameters.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>params</strong> â The parameter dictionary.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict of str to NDArray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nnvm.compiler.optimize">
<code class="descclassname">nnvm.compiler.</code><code class="descname">optimize</code><span class="sig-paren">(</span><em>graph</em>, <em>shape</em>, <em>dtype='float32'</em>, <em>layout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.optimize" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Perform target and parameter invariant graph optimization.</p>
<p>This is an advanced function that usually do not need to be called.
Call build instead.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>graph</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) â The graph to be used in optimized.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>graph</strong> â The optimized graph.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph">Graph</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-nnvm.compiler.graph_util"></span><p>Utility function to get information from graph.</p>
<dl class="function">
<dt id="nnvm.compiler.graph_util.check_graph_equal">
<code class="descclassname">nnvm.compiler.graph_util.</code><code class="descname">check_graph_equal</code><span class="sig-paren">(</span><em>grapha</em>, <em>graphb</em>, <em>compare_variable_attrs=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_util.check_graph_equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Check if two graphs have equal structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>grapha</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) â The first graph</li>
<li><strong>graphb</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) â The second graph</li>
<li><strong>compare_variable_attrs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) â Whether we want to compare attributes(names) on variables.
Usually it is safe to skip it unless we want input name
to exactly match</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> â ValueError is raised with error message when graph not equal</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nnvm.compiler.graph_util.get_gradient_graph">
<code class="descclassname">nnvm.compiler.graph_util.</code><code class="descname">get_gradient_graph</code><span class="sig-paren">(</span><em>ys</em>, <em>xs</em>, <em>grad_ys=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_util.get_gradient_graph" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Create gradient graph of ys with respect to xs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ys</strong> (<a class="reference internal" href="symbol.html#nnvm.symbol.Symbol" title="nnvm.symbol.Symbol"><em>Symbol</em></a><em> or </em><em>list of Symbol</em>) â Symbols from which the gradient is calculated.</li>
<li><strong>xs</strong> (<a class="reference internal" href="symbol.html#nnvm.symbol.Symbol" title="nnvm.symbol.Symbol"><em>Symbol</em></a><em> or </em><em>list of Symbol</em>) â Symbols the gradient respect to.
For group symbol, gradients for all outputs will be calculated.</li>
<li><strong>grad_ys</strong> (<a class="reference internal" href="symbol.html#nnvm.symbol.Symbol" title="nnvm.symbol.Symbol"><em>Symbol</em></a><em> or </em><em>list of Symbol</em>) â Head gradients for ys.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>ret</strong> â Generated gradient graph.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph">Graph</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nnvm.compiler.graph_util.gradients">
<code class="descclassname">nnvm.compiler.graph_util.</code><code class="descname">gradients</code><span class="sig-paren">(</span><em>ys</em>, <em>xs</em>, <em>grad_ys=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_util.gradients" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Create gradient symbol of ys respect to xs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ys</strong> (<a class="reference internal" href="symbol.html#nnvm.symbol.Symbol" title="nnvm.symbol.Symbol"><em>Symbol</em></a><em> or </em><em>list of Symbol</em>) â Symbols from which the gradient is calculated.</li>
<li><strong>xs</strong> (<a class="reference internal" href="symbol.html#nnvm.symbol.Symbol" title="nnvm.symbol.Symbol"><em>Symbol</em></a><em> or </em><em>list of Symbol</em>) â Symbols the gradient respect to.
For group symbol, gradients for all outputs will be calculated.</li>
<li><strong>grad_ys</strong> (<a class="reference internal" href="symbol.html#nnvm.symbol.Symbol" title="nnvm.symbol.Symbol"><em>Symbol</em></a><em> or </em><em>list of Symbol</em>) â Head gradients for ys.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>ret</strong> â Generated gradient symbol. For each xs,
all gradients from ys are merged into a single symbol.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of Symbol</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nnvm.compiler.graph_util.infer_dtype">
<code class="descclassname">nnvm.compiler.graph_util.</code><code class="descname">infer_dtype</code><span class="sig-paren">(</span><em>graph</em>, <em>**dtype</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_util.infer_dtype" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Infer the type given the typeS of inputs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>graph</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) â The graph to perform type inference from</li>
<li><strong>dtype</strong> (<em>dict of str to dtype</em>) â The specific input data type.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>in_dtype</strong> (<em>list of tuple</em>) â Dtype of inputs</li>
<li><strong>out_dtype</strong> (<em>list of tuple</em>) â Dtype of outputs</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nnvm.compiler.graph_util.infer_shape">
<code class="descclassname">nnvm.compiler.graph_util.</code><code class="descname">infer_shape</code><span class="sig-paren">(</span><em>graph</em>, <em>**shape</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_util.infer_shape" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Infer the shape given the shape of inputs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>graph</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) â The graph to perform shape inference from</li>
<li><strong>shape</strong> (<em>dict of str to tuple</em>) â The specific input shape.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>in_shape</strong> (<em>list of tuple</em>) â Shape of inputs</li>
<li><strong>out_shape</strong> (<em>list of tuple</em>) â Shape of outputs</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-nnvm.compiler.graph_attr"></span><p>Utilities to access graph attributes</p>
<dl class="function">
<dt id="nnvm.compiler.graph_attr.set_dtype_inputs">
<code class="descclassname">nnvm.compiler.graph_attr.</code><code class="descname">set_dtype_inputs</code><span class="sig-paren">(</span><em>g</em>, <em>dtype</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_attr.set_dtype_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the dtype inputs of graph nodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>g</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) â The input graph</li>
<li><strong>dtype</strong> (<em>dict of str to str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) â The input dtype</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>g</strong> â The updated graph with updated dtype.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph">Graph</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nnvm.compiler.graph_attr.set_layout_inputs">
<code class="descclassname">nnvm.compiler.graph_attr.</code><code class="descname">set_layout_inputs</code><span class="sig-paren">(</span><em>g</em>, <em>layout</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_attr.set_layout_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the layout inputs of graph nodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>g</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) â The input graph</li>
<li><strong>layout</strong> (<em>dict of str to str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) â The input layout</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>g</strong> â The updated graph with updated layout.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph">Graph</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nnvm.compiler.graph_attr.set_shape_inputs">
<code class="descclassname">nnvm.compiler.graph_attr.</code><code class="descname">set_shape_inputs</code><span class="sig-paren">(</span><em>g</em>, <em>shape</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.graph_attr.set_shape_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the shape of input graph nodes in the graph attribute.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>g</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) â The input graph</li>
<li><strong>shape</strong> (<em>dict of str to tuple</em>) â The input shape</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>g</strong> â The updated graph with updated shape.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph">Graph</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-nnvm.compiler.compile_engine"></span><p>Compiler engine interface to internal engine</p>
<p>You can get the engine singleton at <code class="docutils literal notranslate"><span class="pre">nnvm.compiler.engine</span></code></p>
<dl class="class">
<dt id="nnvm.compiler.compile_engine.Engine">
<em class="property">class </em><code class="descclassname">nnvm.compiler.compile_engine.</code><code class="descname">Engine</code><a class="headerlink" href="#nnvm.compiler.compile_engine.Engine" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Global singleton compilation engine.</p>
<p>You can get the singleton at <code class="docutils literal notranslate"><span class="pre">nnvm.compiler.engine</span></code></p>
<dl class="method">
<dt id="nnvm.compiler.compile_engine.Engine.clear_cache">
<code class="descname">clear_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.compile_engine.Engine.clear_cache" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clear the existing cached functions.</p>
</dd></dl>

<dl class="method">
<dt id="nnvm.compiler.compile_engine.Engine.dump">
<code class="descname">dump</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.compile_engine.Engine.dump" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a string representation of engine dump</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>dump</strong> â The dumped string representation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nnvm.compiler.compile_engine.Engine.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.compile_engine.Engine.items" title="Permalink to this definition">Â¶</a></dt>
<dd><p>List the available cache key value pairs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>item_list</strong> â The existing cache items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of (<a class="reference internal" href="#nnvm.compiler.compile_engine.GraphKey" title="nnvm.compiler.compile_engine.GraphKey">GraphKey</a>, <a class="reference internal" href="#nnvm.compiler.compile_engine.GraphCacheEntry" title="nnvm.compiler.compile_engine.GraphCacheEntry">GraphCacheEntry</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nnvm.compiler.compile_engine.GraphCacheEntry">
<em class="property">class </em><code class="descclassname">nnvm.compiler.compile_engine.</code><code class="descname">GraphCacheEntry</code><a class="headerlink" href="#nnvm.compiler.compile_engine.GraphCacheEntry" title="Permalink to this definition">Â¶</a></dt>
<dd><p>CacheEntry of compilation into a TVM Function</p>
</dd></dl>

<dl class="class">
<dt id="nnvm.compiler.compile_engine.GraphFunc">
<em class="property">class </em><code class="descclassname">nnvm.compiler.compile_engine.</code><code class="descname">GraphFunc</code><a class="headerlink" href="#nnvm.compiler.compile_engine.GraphFunc" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Compiled result of a graph into a TVM Function</p>
</dd></dl>

<dl class="class">
<dt id="nnvm.compiler.compile_engine.GraphKey">
<em class="property">class </em><code class="descclassname">nnvm.compiler.compile_engine.</code><code class="descname">GraphKey</code><a class="headerlink" href="#nnvm.compiler.compile_engine.GraphKey" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Key of a graph compilation context</p>
</dd></dl>

<dl class="function">
<dt id="nnvm.compiler.compile_engine.graph_key">
<code class="descclassname">nnvm.compiler.compile_engine.</code><code class="descname">graph_key</code><span class="sig-paren">(</span><em>graph</em>, <em>inputs</em>, <em>target</em><span class="sig-paren">)</span><a class="headerlink" href="#nnvm.compiler.compile_engine.graph_key" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Construct a new graph key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>graph</strong> (<a class="reference internal" href="graph.html#nnvm.graph.Graph" title="nnvm.graph.Graph"><em>Graph</em></a>) â The computation graph structure</li>
<li><strong>inputs</strong> (<em>list of Tensor</em><em>(</em><em>placeholder</em><em>)</em>) â The input requirement to the graph.</li>
<li><strong>target</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) â The target of compilation.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="frontend.html" class="btn btn-neutral float-right" title="nnvm.frontend" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="NNVM API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, tvm developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-75982049-2', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>